<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lista de Usuários</title>
    <link rel="stylesheet" href="/styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#search').on('keyup', function () {
                var nome = $(this).val();
                $.ajax({
                    url: '/buscar-usuario',
                    data: {
                        nome: nome
                    },
                    success: function (data) {
                        $('#tabela-usuarios').html(data);
                    }
                });
            });
        });

        function confirmChange() {
            return confirm("Tem certeza que deseja mudar o status do usuário?");
        }

        function showInactiveUserError() {
            alert("Não é possível editar um usuário inativo.");
        }
    </script>
</head>
<body>
<h1>Lista de Usuários</h1>
<div class="header-container">
    <input type="text" id="search" name="nome" placeholder="Pesquisar" autocomplete="off">
    <a href="/cadastro-funcionario" class="btn btn-cadastrar">Cadastrar Usuário</a>
</div>

<div id="tabela-usuarios" th:replace="fragments/tabela-usuarios :: tabela-usuarios"></div>
<button onclick="window.location.href='index'" type="button">Voltar</button>
</body>
</html>