<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lista de Produtos</title>
    <link rel="stylesheet" href="">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#search').on('keyup', function () {
                var nome = $(this).val();
                $.ajax({
                    url: '/buscar-produto',
                    data: {
                        nome: nome
                    },
                    success: function (data) {
                        $('#tabela-produtos').html(data);
                    }
                });
            });
        });

        function showInactiveProductError() {
            alert("Não é possível editar um produto inativo.");
        }
    </script>
</head>
<body>
<button onclick="window.location.href='index'" type="button">Voltar</button>
<h1>Lista de Produtos</h1>
<div class="header-container">
    <input type="text" id="search" name="nome" placeholder="Pesquisar" autocomplete="off">
    <a href="/cadastro-produto" class="btn btn-cadastrar">Cadastrar Produto</a>
</div>

<div id="tabela-produtos" th:replace="~{fragments/tabela-produtos :: tabela-produtos}"></div>
</body>
</html>