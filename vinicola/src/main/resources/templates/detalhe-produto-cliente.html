<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Detalhes do Produto</title>
    <link rel="shortcut icon" href="../static/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" th:href="@{/css/frontoffice.css}">
    <script>
        function alterarQuantidade(valor) {
            const inputQuantidade = document.getElementById('quantidade');
            let novaQuantidade = parseInt(inputQuantidade.value) + valor;

            if (novaQuantidade < 0) {
                novaQuantidade = 0; // Não permite valores negativos
            }

            inputQuantidade.value = novaQuantidade;
        }
    </script>
</head>
<body>
<header>
    <section id="header">
        <a href="/"><img alt="logo_winery" class="logo" th:src="@{/images/logo_winery.png}"></a>

        <div>
            <ul id="navbar">
                <li><a class="active" href="/">Início</a></li>
                <li><a class="link-navbar" href="#">Produtos</a></li>
                <li><a href="#"><img alt="carrinho" th:src="@{/images/sacola.png}"></a></li>
                <li><a class="icone-navbar" href="login"><img alt="login" th:src="@{/images/user.png}"></a></li>
            </ul>
        </div>
    </section>
    <button class="btn-voltar" onclick="window.location.href='/'" type="button"><img
            th:src="@{images/seta.png}"></button>
</header>
<main class="main-detalhe-produto-cliente">
        <section class="conteudo-container">
            <div class="conteudo-container-imagem">
                <div th:each="imagem : ${produto.imagens}">
                    <img class="conteudo-imagem" alt="Imagem do Produto" th:src="@{/imagem/{id}(id=${imagem.id})}"/>
                </div>
            </div>
            <div class="conteudo-container-info">
                <h3><strong><span th:text="${produto.nome}"></span></strong></h3>
                <div class="avaliacao-estrelas-detalhe">
                <p><span th:each="i : ${#numbers.sequence(1, 5)}">
                  <svg class="estrela" fill="currentColor" th:classappend="${i <= produto.avaliacao} ? 'cheia' : 'vazia'" viewBox="0 0 24 24"
                       xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                  </svg>
                </span></p>
                </div>
                <p><span th:text="${produto.descricao}"></span></p>
                <h3 class="conteudo-container-info-preco">R$: <span th:text="${produto.preco}"></span></h3>
                <em class="quantidade-p">Quantidade</em>
                <div class="quantidade-e-botao">
                    <div class="quantidade-produto">
                        <button type="button" class="btn-decrementar" onclick="alterarQuantidade(-1)">-</button>
                        <input type="number" id="quantidade" value="0" min="0" readonly>
                        <button type="button" class="btn-incrementar" onclick="alterarQuantidade(1)">+</button>
                    </div>
                    <a href="#" class="btn-adicionar-carrinho">Adicionar Carrinho</a>
                </div>
                </div>
        </section>
</main>
</body>
</html>
